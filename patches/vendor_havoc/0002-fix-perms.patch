From 02be63cf0aaee0d3ca7f1d34e01f5a505bbf936a Mon Sep 17 00:00:00 2001
From: Kazakov Stepan <kazakov12stepan2012@live.ru>
Date: Thu, 1 Nov 2018 20:54:24 +0300
Subject: [PATCH 2/2] fix perms

Signed-off-by: Kazakov Stepan <ksrt12group@gmail.com>
---
 config/common.mk                              |  2 +-
 config/version.mk                             |  1 -
 .../permissions/privapp-permissions-turbo.xml | 27 +++++++++++++++++++
 3 files changed, 28 insertions(+), 2 deletions(-)

diff --git a/config/common.mk b/config/common.mk
index 79f8f058..a7451952 100644
--- a/config/common.mk
+++ b/config/common.mk
@@ -343,7 +343,7 @@ PRODUCT_ENFORCE_RRO_EXCLUDED_OVERLAYS += vendor/havoc/overlay
 DEVICE_PACKAGE_OVERLAYS += vendor/havoc/overlay/common
 
 # Bootanimation
-include vendor/havoc/config/bootanimation.mk
+#include vendor/havoc/config/bootanimation.mk
 
 # Version
 include vendor/havoc/config/version.mk
diff --git a/config/version.mk b/config/version.mk
index d5c205a7..56d480c7 100644
--- a/config/version.mk
+++ b/config/version.mk
@@ -22,7 +22,6 @@ HAVOC_MOD_VERSION := Havoc-OS-$(HAVOC_BASE_VERSION)-$(HAVOC_BUILD_DATE)-$(HAVOC_
 ROM_FINGERPRINT := Havoc-OS/$(HAVOC_BASE_VERSION)/$(PLATFORM_VERSION)/$(TARGET_PRODUCT_SHORT)/$(HAVOC_BUILD_DATE)
 
 PRODUCT_PROPERTY_OVERRIDES += \
-    BUILD_DISPLAY_ID=$(BUILD_ID) \
     ro.havoc.build.version=$(HAVOC_BUILD_VERSION) \
     ro.havoc.version=$(HAVOC_VERSION) \
     ro.havoc.releasetype=$(HAVOC_BUILD_TYPE) \
diff --git a/prebuilt/common/etc/permissions/privapp-permissions-turbo.xml b/prebuilt/common/etc/permissions/privapp-permissions-turbo.xml
index 2be143b0..e4b4fe18 100644
--- a/prebuilt/common/etc/permissions/privapp-permissions-turbo.xml
+++ b/prebuilt/common/etc/permissions/privapp-permissions-turbo.xml
@@ -10,4 +10,31 @@
         <permission name="android.permission.SUBSTITUTE_NOTIFICATION_APP_NAME"/>
     </privapp-permissions>
 
+    <privapp-permissions package="com.google.android.apps.wallpaper">
+        <permission name="android.permission.READ_WALLPAPER_INTERNAL"/>
+    </privapp-permissions>
+
+    <privapp-permissions package="com.google.android.apps.nexuslauncher">
+        <permission name="android.permission.PACKAGE_USAGE_STATS"/>
+        <permission name="android.permission.WRITE_SECURE_SETTINGS"/>
+        <permission name="android.permission.BIND_APPWIDGET"/>
+        <permission name="android.permission.CONTROL_REMOTE_APP_TRANSITION_ANIMATIONS"/>
+    </privapp-permissions>
+
+    <privapp-permissions package="com.havoc.ota">
+        <permission name="android.permission.ACCESS_CACHE_FILESYSTEM"/>
+        <permission name="android.permission.REBOOT"/>
+        <permission name="android.permission.RECOVERY"/>
+    </privapp-permissions>
+
+    <privapp-permissions package="org.omnirom.omniswitch">
+        <permission name="android.permission.CHANGE_OVERLAY_PACKAGES"/>
+        <permission name="android.permission.FORCE_STOP_PACKAGES"/>
+        <permission name="android.permission.MANAGE_ACTIVITY_STACKS"/>
+        <permission name="android.permission.MANAGE_USERS"/>
+        <permission name="android.permission.READ_FRAME_BUFFER"/>
+        <permission name="android.permission.REAL_GET_TASKS"/> 
+        <permission name="android.permission.START_TASKS_FROM_RECENTS"/>
+        <permission name="android.permission.STOP_APP_SWITCHES"/>
+    </privapp-permissions>
 </permissions>
-- 
2.19.1

