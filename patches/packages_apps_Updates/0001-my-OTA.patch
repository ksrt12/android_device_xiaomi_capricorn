From 4e2a5bb55deb1a0c0d2ebc9263fb70d60abfce61 Mon Sep 17 00:00:00 2001
From: Kazakov Stepan <ksrt12group@gmail.com>
Date: Thu, 31 Jan 2019 20:56:21 +0300
Subject: [PATCH] my OTA

Signed-off-by: Kazakov Stepan <ksrt12group@gmail.com>
---
 src/com/havoc/ota/misc/Constants.java               | 4 ++--
 src/com/havoc/ota/preferences/UpdatePreference.java | 2 +-
 src/com/havoc/ota/utils/Utils.java                  | 3 +--
 3 files changed, 4 insertions(+), 5 deletions(-)

diff --git a/src/com/havoc/ota/misc/Constants.java b/src/com/havoc/ota/misc/Constants.java
index 57dcab0..f620080 100644
--- a/src/com/havoc/ota/misc/Constants.java
+++ b/src/com/havoc/ota/misc/Constants.java
@@ -31,9 +31,9 @@ public class Constants {
     public static final long UPDATE_DEFAULT_FREQ = AlarmManager.INTERVAL_HALF_DAY;
     // Build vars
     public static final String CURRENT_DEVICE_NAME = "ro.havoc.device";
-    public static final String CURRENT_VERSION = "ro.mod.version";
+    public static final String CURRENT_VERSION = "ro.havoc.version";
     public static final String CURRENT_BUILD_TYPE = "ro.havoc.releasetype";
-    public static final String OTA_URL = "https://raw.githubusercontent.com/Havoc-OS/OTA/pie/%s";
+    public static final String OTA_URL = "https://raw.githubusercontent.com/ksrt12/OTA/pie/%s";
     // Expressions
     public static final String FILENAME_DATE_FORMAT = "yyyyMMdd-Hm";
     public static final String PATTERN_FILENAME_DATE_FORMAT = "(\\d{4}\\d{2}\\d{2}-\\d{2}\\d{2})";
diff --git a/src/com/havoc/ota/preferences/UpdatePreference.java b/src/com/havoc/ota/preferences/UpdatePreference.java
index 3b01da8..1be3c16 100644
--- a/src/com/havoc/ota/preferences/UpdatePreference.java
+++ b/src/com/havoc/ota/preferences/UpdatePreference.java
@@ -121,7 +121,7 @@ public class UpdatePreference extends Preference implements OnLongClickListener
         mChangelogButton.setOnClickListener(new OnClickListener() {
             @Override
             public void onClick(View v) {
-				showchangelog();
+				expandableChangelogLayout.toggle();
             }
         });
         expandableChangelogLayout.setOnExpansionUpdateListener(new ExpandableLayout.OnExpansionUpdateListener() {
diff --git a/src/com/havoc/ota/utils/Utils.java b/src/com/havoc/ota/utils/Utils.java
index 560dd56..bec18ab 100644
--- a/src/com/havoc/ota/utils/Utils.java
+++ b/src/com/havoc/ota/utils/Utils.java
@@ -100,8 +100,7 @@ public class Utils {
     }
 
     public static boolean isOTAConfigured() {
-        String prop = getSystemProperty(Constants.CURRENT_BUILD_TYPE, "UNOFFICIAL");
-        return prop.toLowerCase().equals("official");
+        return true;
     }
 
     public static String getDeviceName() {
-- 
2.20.1

