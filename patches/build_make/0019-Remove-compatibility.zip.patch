From 8554db455ad889852fa44d9158909cef5fc71190 Mon Sep 17 00:00:00 2001
From: Lucchetto <lucchetto.tie@live.com>
Date: Sun, 30 Sep 2018 22:27:44 +0200
Subject: [PATCH 19/19] Remove compatibility.zip

Change-Id: I5c005f14e52f2c7b5f4ac293151d8724e8d4756a
Signed-off-by: blinoff82 <blinov.in@gmail.com>
---
 tools/releasetools/ota_from_target_files.py | 8 --------
 1 file changed, 8 deletions(-)

diff --git a/tools/releasetools/ota_from_target_files.py b/tools/releasetools/ota_from_target_files.py
index 51b13c57e..bcba3e9f4 100755
--- a/tools/releasetools/ota_from_target_files.py
+++ b/tools/releasetools/ota_from_target_files.py
@@ -895,8 +895,6 @@ else if get_stage("%(bcb_dev)s") == "3/3" then
     vendor_diff = common.BlockDifference("vendor", vendor_tgt)
     vendor_diff.WriteScript(script, output_zip)
 
-  AddCompatibilityArchiveIfTrebleEnabled(input_zip, output_zip, target_info)
-
   common.CheckSize(boot_img.data, "boot.img", target_info)
   common.ZipWriteStr(output_zip, "boot.img", boot_img.data)
 
@@ -1488,9 +1486,6 @@ def WriteBlockIncrementalOTAPackage(target_zip, source_zip, output_file):
   else:
     vendor_diff = None
 
-  AddCompatibilityArchiveIfTrebleEnabled(
-      target_zip, output_zip, target_info, source_info)
-
   # Assertions (e.g. device properties check).
   target_info.WriteDeviceAssertions(script, OPTIONS.oem_no_mount)
   device_specific.IncrementalOTA_Assertions()
@@ -1826,9 +1821,6 @@ def WriteABOTAPackageWithBrilloScript(target_file, output_file,
     else:
       print("Warning: cannot find care map file in target_file package")
 
-  AddCompatibilityArchiveIfTrebleEnabled(
-      target_zip, output_zip, target_info, source_info)
-
   common.ZipClose(target_zip)
 
   # We haven't written the metadata entry yet, which will be handled in
-- 
2.19.1

