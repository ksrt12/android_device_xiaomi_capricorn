From 111c0ec4c82ac217d01efce4e407e06960dfab0c Mon Sep 17 00:00:00 2001
From: Vol Zhdanov <wight554@gmail.com>
Date: Thu, 15 Nov 2018 15:47:19 +0000
Subject: [PATCH 4/5] base: make old qti telephony optional [1/2]

* enable by default to satisfy most devices

Signed-off-by: Kazakov Stepan <ksrt12group@gmail.com>
---
 core/res/res/values/havoc_config.xml  | 3 +++
 core/res/res/values/havoc_symbols.xml | 4 +++-
 2 files changed, 6 insertions(+), 1 deletion(-)

diff --git a/core/res/res/values/havoc_config.xml b/core/res/res/values/havoc_config.xml
index 9e80ce87aa6..15c7155e132 100644
--- a/core/res/res/values/havoc_config.xml
+++ b/core/res/res/values/havoc_config.xml
@@ -198,4 +198,7 @@
 
     <bool name="config_button_brightness_support">false</bool>
     <integer name="config_button_brightness_default">128</integer>
+
+    <!-- Whether the device has outdated qti-telephony-common.jar -->
+    <bool name="config_oldQtiTelephony">true</bool>
 </resources>
diff --git a/core/res/res/values/havoc_symbols.xml b/core/res/res/values/havoc_symbols.xml
index 7d3ae6ac70a..b2fc5354954 100644
--- a/core/res/res/values/havoc_symbols.xml
+++ b/core/res/res/values/havoc_symbols.xml
@@ -252,7 +252,9 @@
   <java-symbol type="layout" name="permission_confirmation_dialog" />
   <java-symbol type="array" name="app_ops_labels" />
 
-  <!-- Powermenu animations -->
+  <java-symbol type="bool" name="config_oldQtiTelephony" />
+
+    <!-- Powermenu animations -->
   <java-symbol type="style" name="GlobalActionsAnimation" />
   <java-symbol type="style" name="GlobalActionsAnimationTop" />
   <java-symbol type="style" name="GlobalActionsAnimationEnter" />
-- 
2.19.1

